!function(){var e=null,t=null,n=$(".dropdown");$(document).on("mousedown","a.dropdown-desktop",function(){var e=$(this).attr("href");switch(e){case"/blog/":window.location.pathname="/blog/";break;case"/tank/":window.location.pathname="/tank/";break;case"/san/":window.location.pathname="/san/"}}).on("mouseenter","a.dropdown-desktop",function(){clearTimeout(e);var t=$(this);e=setTimeout(function(){t.next().slideDown()},100)}).on("mouseleave",".view-desktop .dropdown",function(){clearTimeout(t),t=setTimeout(function(){n.find("ul").slideUp()},100)});var o=window.location.pathname,i=/\/\d{4}\/\d{2}\/\d{2}\/\w+\.html/;switch(n.prev().removeClass("active"),n.removeClass("active"),o){case"/":n.eq(0).prev().addClass("active");break;case"/blog/":n.eq(0).addClass("active"),$("#show-info").addClass("active");break;case"/tank/":n.eq(1).addClass("active"),n.eq(1).find("li").eq(0).addClass("active");break;case"/san/":n.eq(2).addClass("active"),n.eq(2).find("li").eq(0).addClass("active")}i.test(o)&&n.eq(0).addClass("active")}(),function(){var e,t=$("#icon-contact"),n=$("#info-contact");t.delegate("li","mouseenter",function(t){e=t.target.style.background,e.indexOf("mail")>-1?(n.css("background","none"),n.text("fuyi1205@126.com"),$("#mail-to").slideDown()):(n.text(""),$("#mail-to").slideUp(),e.indexOf("qq")>-1&&n.css("background","url('src/img/info/qq.jpg') 50% 50%"),e.indexOf("weixin")>-1&&n.css("background","url('src/img/info/weixin.png')"),e.indexOf("weibo")>-1&&n.css("background","url('src/img/info/weibo.png')"))}).delegate("li","mouseleave",function(t){e=t.target.style.background,n.css("background","none"),e.indexOf("mail")==-1&&n.css({background:'url("src/img/info/face.png")'}).text("")}),$("#index-contact").bind("mouseleave",function(){$("#mail-to").slideUp(),n.css({background:'url("src/img/info/face.png")'}).text("")})}(),function(){var e,t=$("#mail-to"),n=t.find("textarea"),o=$("div#mail-to a");t.delegate("a","mousedown",function(){0==n.val().length?alert("hey!一言不发我很伤心~"):(e=o.attr("href"),e=e+"?subject="+encodeURI("对博客的建议")+"&body="+encodeURI(n.val()),o.attr("href",e))}).delegate("button:eq(1)","click",function(){n.val(""),o.attr("href","mailto:fuyi1205@126.com?subject=对博客的建议")})}(),function(){if(window.location.pathname.indexOf("blog")>0){var e=$(".article-h3"),t=$(".article-date");e.find(".con-title, .con-date").hide(),e.find(".con-content").find("*").not("h3").hide();for(var n in t.get())t.eq(n).text(t.eq(n).text().substring(0,10));$("#hide-info").click(function(){e.slideUp(200),$(this).prev().removeClass("active"),$(this).addClass("active")}),$("#show-info").click(function(){e.slideDown(200),$(this).next().removeClass("active"),$(this).addClass("active")});var o={key:$("#search-key"),button1:$("#search-button"),button2:$("#reset-button"),articles:$(".article-li"),titles:$(".article-title"),result:!1,start:function(){if(0==o.key.val().length)alert("请输入搜索内容！");else{for(var e=0,t=o.titles.length;e<t;e++)o.titles.eq(e).text().toLowerCase().indexOf(o.key.val().toLowerCase())==-1?o.articles.eq(e).hide():o.result=!0;0==o.result&&(o.articles.show(),alert("没有符合条件的博文！"))}}};$("#blog-search").delegate("#search-button","click",function(){o.start()}).delegate("input","keydown",function(){13==event.which&&o.start()}).delegate("#reset-button","click",function(){o.articles.show()})}}(),function(){if(window.location.pathname.indexOf("san")!=-1){var e=$(".grid").masonry({itemSelector:".grid-item",percentPosition:!0,columnWidth:".grid-sizer"});e.imagesLoaded().progress(function(){e.masonry()})}}(),function(){$(document).on("click","#register-login-btn",function(){$(".log-form").fadeToggle(),$(".bg-con").toggleClass("bg-con-opac")}).on("click",".shut-login",function(){$(".log-form").fadeOut(),$(".bg-con").removeClass("bg-con-opac")})}();var myAngular=angular.module("MyBlog",[]);myAngular.config(["$interpolateProvider",function(e){return e.startSymbol("{(").endSymbol(")}")}]),myAngular.controller("sanCtrl",["$scope","$http",function(e,t){e.getInfo=function(){t.get("/dist/json/s11.json").success(function(t){var n=window.location.href.substr(-1,1);e.info=t,e.item=e.info[n],e.toggle_img=!e.toggle_img,e.toggle_info=!e.toggle_info})},e.show_hide=function(){e.toggle_img=!e.toggle_img,e.toggle_info=!e.toggle_info},e.next=function(){var t=+e.item.id+1;t=t>7?t-8:t,e.item=e.info[t]},e.prev=function(){var t=+e.item.id-1;t=t<0?t+8:t,e.item=e.info[t]}}]),myAngular.controller("loginCtrl",["$scope",function(e){e.save=function(){alert("该模块尚未开放，敬请期待！")}}]),myAngular.directive("s11",function(){return{restrict:"E",templateUrl:"../dist/tpls/s11.html"}});